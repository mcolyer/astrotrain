astrotrain
==========

Scans incoming emails for mapped recipients and sends an HTTP POST somewhere.

  # set a mapping to accept email for support@example.com
  @mapping = Mapping.create(:email_user => 'support', :email_domain => 'example.com', :destination => '...')
  
  # you can also create wildcards for users:
  Mapping.create(:email_user => 'reply-*', :email_domain => 'example.com', ...)
  Mapping.create(:email_user => '*', :email_domain => 'example.com', ...)

  # need a script to read from STDIN to process emails.
  /usr/bin/merb -m /var/www/astrotrain -r 'Message.receive(STDIN.read)' -e production

  # set it up in postfix (master.cf, ymmv)
  astrotrain unix  -       n       n       -       -       pipe
  flags=O user=www-data argv=/var/www/astrotrain/merb.sh

This is still highly experimental.  Don't even bother with the web UI yet,
there's no protection against anyone signing up and creating mappings on your server.

TODO
====

Jabber support
bounced emails